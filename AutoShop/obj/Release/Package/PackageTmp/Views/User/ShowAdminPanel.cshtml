@{
    ViewBag.Title = "ShowAdminPanel";
}

<h2>Панель администратора</h2>
<div>
    <div id="adminPanelVue">
        <h3>Обновление прайса (excel)</h3>
        <a href="/User/UploadPrice">
            Обновить
        </a>
        <h3>Загрузить списки запчастей (txt)</h3>
        <a href="/User/LoadPartListsTxt">
            Обновить
        </a>

        <h3>Запросы на выборку номеров запчастей</h3>
        <div class="form-group">
            <div class="custom-control custom-switch">
                <input type="checkbox" id="NonCompletedRequestsCB" v-model="isActiveRequests" class="custom-control-input" />
                <label for="NonCompletedRequestsCB" class="custom-control-label text-primary">Только невыполненные запросы</label>
            </div>
            <button type="button" class="btn btn-primary" v-on:click="ShowRequestList()">Показать</button>
        </div>
        <div class="table-responsive">
            <table style="background-color:white;" class="table table-striped table-bordered">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Пользователь</th>
                        <th>Номер в системе</th>
                        <th>Кол-во запросов</th>
                    </tr>
                </thead>
                <tbody>
                    <tr v-for="(item, index) in userRequests">
                        <td>{{index}}</td>
                        <td>{{item.UserName}}</td>
                        <td>{{item.UserId}}</td>
                        <td>{{item.RequestCount}}</td>
                        <td>
                            <button type="button" class="btn btn-primary" v-on:click="CompleteUserRequest(index)">Выполнить</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="form-group">
            <button class="btn btn-primary" type="button">Слушать</button>
        </div>
    </div>
</div>
<script type="text/javascript" src="~/Scripts/AdminPanelVue.js"></script>
<script src="~/Scripts/jquery.signalR-2.4.1.min.js"></script>
